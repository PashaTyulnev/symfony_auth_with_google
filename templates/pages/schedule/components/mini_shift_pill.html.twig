<div
    class="group/pill relative w-full mb-1.5 rounded-lg border border-white/20 dark:border-white/10 backdrop-blur-md flex items-center overflow-hidden shadow-sm hover:shadow-md transition-all duration-200 hover:scale-[1.01]"
    style="background: linear-gradient(135deg, {{ shift.demandShift.color }}, {{ shift.demandShift.color }}dd);"
    data-shift-uri="{{ shift['@id'] }}"
    data-user-employee="{{ shift.employee }}"
    data-controller="shift-pill"
    data-schedule-week-target="miniShiftPill"
    data-demand-shift-id="{{ shift.demandShift.id }}"
    data-date="{{ shift.date|date('Y-m-d') }}">

    {# Content Container #}
    <div class="flex-1 py-1.5 px-2.5 flex items-center justify-center gap-2">

        {% if shift.demandShift.onCall %}
            {% if shift.onCall %}
                <button
                    data-action="click->schedule-week#convertOnCallShift"
                    data-schedule-week-shift-id-param="{{ shift['id'] }}"
                    class="bell-shake flex items-center justify-center text-yellow-300 hover:text-yellow-200 transition cursor-pointer"
                    title="Bereitschaftsdienst – Klick zum Umwandeln"
                >
                    {{ ux_icon('lucide:bell', { class: 'h-4 w-4 drop-shadow-sm' }) }}
                </button>
            {% endif %}

        {% endif %}


        {% if shift.status == 'pending' %}
            {{ ux_icon('lucide:clock', { class: 'h-4 w-4 text-gray-300 drop-shadow-sm' }) }}
        {% elseif shift.status == 'accepted' %}
            {{ ux_icon('lucide:check-circle', { class: 'h-4 w-4 text-green-300 drop-shadow-sm' }) }}
        {% elseif shift.status == 'declined' %}
            {{ ux_icon('lucide:x-circle', { class: 'h-4 w-4 text-red-300 drop-shadow-sm' }) }}
        {% endif %}

        <span class="text-xs font-semibold text-white tracking-wide drop-shadow-sm">
        {{ shift.demandShift.timeFrom|date('H') }}–{{ shift.demandShift.timeTo|date('H') }}
        <span
            class="bg-gray-100 text-gray-800 text-[10px] font-small px-1 py-0.5 rounded-sm dark:bg-gray-700 dark:text-gray-300">
        {{ shift.demandShift.facility.shortTitle }}
    </span>
    </div>

    {# Delete Button - Kompakt #}
    <button
        data-action="click->schedule-week#delete"
        data-schedule-week-shift-uri-param="{{ shift['@id'] }}"
        class="flex items-center justify-center p-1.5 text-white bg-white/0 hover:bg-white/20 active:bg-white/30 rounded-md transition-all duration-200 backdrop-blur-sm me-1.5">
        {{ ux_icon('lucide:trash', { class: 'h-3.5 w-3.5' }) }}
    </button>
</div>
